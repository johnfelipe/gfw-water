# Enable Compression
SetOutputFilter DEFLATE

# Set Cache-Control to 2 weeks for most resources, 3 months for images, and 60 seconds after access for html
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresDefault M1209600
  ExpiresByType text/html A60
  ExpiresByType image/gif A8035200
  ExpiresByType image/jpeg A8035200
  ExpiresByType image/png A8035200
  ExpiresByType text/css M1209600
  ExpiresByType text/javascript M1209600
  ExpiresByType application/x-javascript M1209600
</IfModule>

# Testing browser detection from .htaccess files with no PHP, may need to be adjusted or replaced if this is not sufficient
# Android 4 and up
# iOS 7 and up
# Chrome 50+
# Safari > 8
# Firefox greater than 45
# IE greater than 10
# Edge greater than 12
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteCond %{HTTP_USER_AGENT} !Android\s[4-6]
  RewriteCond %{HTTP_USER_AGENT} !iPhone\sOS\s[7-9]
  RewriteCond %{HTTP_USER_AGENT} !Chrome\/([5-9]\d)
  RewriteCond %{HTTP_USER_AGENT} !Version\/[8-9][^\s]*\sSafari
  RewriteCond %{HTTP_USER_AGENT} !Firefox\/([4-9][5-9]|[5-9]\d)
  RewriteCond %{HTTP_USER_AGENT} !Trident\/([6-9])
  RewriteCond %{HTTP_USER_AGENT} !Edge\/([1][2-9])
  RewriteCond %{REQUEST_URI} !unsupported/
  RewriteRule (.*).html unsupported [L]
</IfModule>
